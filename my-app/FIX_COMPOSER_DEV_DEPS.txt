# Solution pour installer sur PHP 8.2 avec des dépendances dev nécessitant PHP 8.3
# Les packages Pest nécessitent PHP 8.3, mais le serveur a PHP 8.2.29

# OPTION 1 : Modifier temporairement composer.json (RECOMMANDÉ)
# Via SSH, éditez composer.json et commentez/retirez les dépendances Pest :

cd ~/domains/takaafrica.com/laravel

# Créer une sauvegarde
cp composer.json composer.json.backup

# Éditer composer.json avec nano ou vim
nano composer.json

# Dans la section "require-dev", commentez ou supprimez ces lignes :
# "pestphp/pest": "^4.2",
# "pestphp/pest-plugin-laravel": "^4.0",

# Ou utilisez sed pour les retirer automatiquement :
sed -i '/pestphp\/pest/d' composer.json

# Ensuite, installer
composer install --no-dev --optimize-autoloader

# OPTION 2 : Utiliser un fichier composer.json modifié localement
# (Vous devrez uploader le fichier modifié)

# OPTION 3 : Ignorer les dépendances dev problématiques (si Composer le permet)
composer install --no-dev --optimize-autoloader --ignore-platform-reqs=php

